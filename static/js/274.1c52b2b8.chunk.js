"use strict";(self.webpackChunktoolkit=self.webpackChunktoolkit||[]).push([[274],{87223:(e,t,n)=>{n.r(t),n.d(t,{default:()=>S});var r=n(47313),l=n(7432),i=n(76047),o=n(45147),a=n(61677),s=n(23232),c=n(68197),d=n(59624),u=n(44730),p=n(80122),h=n(16684),f=n(87518),m=n(23988),g=n(46417);const x=(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)(l.default.Title,{level:3,children:"\u5e2e\u52a9\u6587\u6863"}),(0,g.jsx)(l.default.Title,{level:4,children:"\u4f7f\u7528\u4ecb\u7ecd"}),(0,g.jsx)(l.default.Paragraph,{children:"\u65b9\u6cd5\u7684\u5165\u53c2\u4e3a: Util, React"}),(0,g.jsx)(l.default.Paragraph,{children:"\u65b9\u6cd5\u7684\u8fd4\u56de\u503c: \u652f\u6301 async \u7684\u65b9\u6cd5; Promise \u5bf9\u8c61, resolve\u65b9\u6cd5\u7684\u53c2\u6570\u5373\u4e3a\u8fd4\u56de\u503c, reject\u65b9\u6cd5\u7684\u53c2\u6570\u5373\u4e3a\u62a5\u9519\u63d0\u793a"}),(0,g.jsxs)(l.default.Paragraph,{children:[(0,g.jsx)(l.default.Text,{code:!0,copyable:!0,children:"Util"}),": \u5185\u7f6e\u7684\u5de5\u5177\u7c7b"]}),(0,g.jsxs)(l.default.Paragraph,{children:["\u4f7f\u7528\u8005\u4ec5\u4ec5\u9700\u8981\u5b9e\u73b0",(0,g.jsx)("b",{children:"\u65b9\u6cd5\u4f53"})]}),(0,g.jsx)(l.default.Title,{level:5,children:"\u8f6c\u6362\u65b9\u6cd5\u6837\u4f8b"}),(0,g.jsx)("div",{style:{whiteSpace:"pre-wrap"},children:(0,g.jsx)(l.default.Paragraph,{code:!0,copyable:{text:"return inputObj;"},children:"function anonymous(Util, React) {\n    // \u5904\u7406\u903b\u8f91\n    return <div>Hello, World!<div>;\n}"})}),(0,g.jsx)("br",{})]}),j=(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)(l.default.Title,{level:3,children:"\u5e38\u7528\u5de5\u5177"}),(0,g.jsx)("div",{style:{whiteSpace:"pre-wrap"},children:(0,g.jsx)(l.default.Paragraph,{code:!0,copyable:!0,children:"const { _, dayjs, cryptoJS, XLSX, message, importPlugin } = Util"})}),(0,g.jsxs)(l.default.Paragraph,{children:[(0,g.jsx)(l.default.Title,{level:5,children:"\u5de5\u5177\u5e93"}),(0,g.jsx)(l.default.Text,{code:!0,copyable:!0,children:"const { _ } = Util"}),(0,g.jsx)(l.default.Link,{style:{marginLeft:"5px"},href:"https://www.lodashjs.com/",target:"_blank",children:"loadsh \u5b98\u7f51"})]}),(0,g.jsxs)(l.default.Paragraph,{children:[(0,g.jsx)(l.default.Title,{level:5,children:"\u65e5\u671f\u5de5\u5177"}),(0,g.jsx)(l.default.Text,{code:!0,copyable:!0,children:"const { dayjs } = Util"}),(0,g.jsx)(l.default.Link,{style:{marginLeft:"5px"},href:"https://dayjs.gitee.io/zh-CN/",target:"_blank",children:"Day.js \u5b98\u7f51"})]}),(0,g.jsxs)(l.default.Paragraph,{children:[(0,g.jsx)(l.default.Title,{level:5,children:"\u52a0\u5bc6\u5de5\u5177"}),(0,g.jsx)(l.default.Text,{code:!0,copyable:!0,children:"const { cryptoJS } = Util"}),(0,g.jsx)(l.default.Link,{style:{marginLeft:"5px"},href:"https://github.com/brix/crypto-js",target:"_blank",children:"crypto-js"})]}),(0,g.jsxs)(l.default.Paragraph,{children:[(0,g.jsx)(l.default.Title,{level:5,children:"\u6587\u4ef6\u5de5\u5177"}),(0,g.jsx)(l.default.Text,{code:!0,copyable:!0,children:"const { XLSX } = Util"}),(0,g.jsx)(l.default.Link,{style:{marginLeft:"5px"},href:"https://github.com/rockboom/SheetJS-docs-zh-CN/",target:"_blank",children:"SheetJS \u6587\u6863"})]}),(0,g.jsxs)(l.default.Paragraph,{children:[(0,g.jsx)(l.default.Title,{level:5,children:"\u6d88\u606f\u5de5\u5177"}),(0,g.jsx)(l.default.Text,{code:!0,copyable:!0,children:"const { message } = Util"}),(0,g.jsx)(l.default.Text,{children:"\u6d88\u606f\u63d0\u793a\u65b9\u6cd5\uff0c\u4f7f\u7528\u65b9\u5f0f\u548c\u53c2\u6570\u5982\u4e0b:"}),(0,g.jsx)("br",{}),(0,g.jsx)(l.default.Text,{children:"(content: \u6d88\u606f\u5185\u5bb9, duration: \u81ea\u52a8\u5173\u95ed\u7684\u5ef6\u65f6, \u5355\u4f4d\u79d2, \u8bbe\u4e3a0\u65f6\u4e0d\u81ea\u52a8\u5173\u95ed)"}),(0,g.jsx)("br",{}),(0,g.jsx)(l.default.Text,{code:!0,children:"message.success(content, [duration])"}),(0,g.jsx)("br",{}),(0,g.jsx)(l.default.Text,{code:!0,children:"message.error(content, [duration])"}),(0,g.jsx)("br",{}),(0,g.jsx)(l.default.Text,{code:!0,children:"message.info(content, [duration])"}),(0,g.jsx)("br",{}),(0,g.jsx)(l.default.Text,{code:!0,children:"message.warning(content, [duration])"}),(0,g.jsx)("br",{}),(0,g.jsx)(l.default.Text,{code:!0,children:"message.loading(content, [duration])"})]}),(0,g.jsxs)(l.default.Paragraph,{children:[(0,g.jsx)(l.default.Title,{level:5,children:"\u5bfc\u5165\u63d2\u4ef6(\u5f02\u6b65)"}),(0,g.jsx)(l.default.Text,{code:!0,copyable:!0,children:"const { importPlugin } = Util"}),(0,g.jsx)(l.default.Text,{code:!0,copyable:!0,children:'const { Button } = await importPlugin("antd")'})]})]}),v=e=>{let{title:t,codeDemo:n}=e;const r=(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)(l.default.Title,{level:3,children:t}),(0,g.jsx)("div",{style:{whiteSpace:"pre-wrap"},children:(0,g.jsx)(l.default.Paragraph,{code:!0,copyable:!0,children:n})})]});return(0,g.jsx)(a.Z,{placement:"rightTop",content:r,title:null,trigger:"click",children:(0,g.jsx)(s.ZP,{type:"link",children:t})})},y=()=>(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)(a.Z,{placement:"rightTop",content:x,title:null,trigger:"click",children:(0,g.jsx)(s.ZP,{type:"link",children:"\u5e2e\u52a9\u6587\u6863"})}),(0,g.jsx)(a.Z,{placement:"rightTop",content:j,title:null,trigger:"click",children:(0,g.jsx)(s.ZP,{type:"link",children:"\u5e38\u7528\u5de5\u5177"})}),(0,g.jsx)(v,{title:"Form \u6848\u4f8b\u6587\u6863",codeDemo:'// \u811a\u672c\u6267\u884c\u533a\nconst { importPlugin } = Util;\nreturn async () => {\n    // \u811a\u672c\u6267\u884c\u533a(\u5f02\u6b65\u5bfc\u5165\u63d2\u4ef6)\n    const { Row, Col, Form, Input, Space, Button } = await importPlugin("antd");\n    // \u5b9a\u4e49\u6e32\u67d3\u7ec4\u4ef6\n    const App = () => {\n        const [content, setContent] = React.useState(\'\');\n        const [form] = Form.useForm();\n        const onFinish = () => {\n            const obj = form.getFieldsValue();\n            setContent(JSON.stringify(obj, null, 2))\n        }\n        return <Row>\n            <Col span={5}>\n                <Form form={form} onFinish={onFinish}>\n                    <Form.Item>\n                        <Space>\n                            <Button type="primary" htmlType="submit">\u8f6c\u6362</Button>\n\n                            <Button htmlType="button" onClick={() => form.resetFields()}>\u91cd\u7f6e</Button>\n                        </Space>\n                    </Form.Item>\n                    <Form.Item label="\u540d\u79f0" name="name"><Input /></Form.Item>\n                </Form>\n            </Col>\n            <Col span={1} />\n            <Col span={10}>\n                <Input.TextArea value={content} rows={16} />\n            </Col>\n        </Row>\n    }\n    // \u8fd4\u56de\u6e32\u67d3\u7ec4\u4ef6\n    return App\n}'})]}),b=()=>(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)(s.ZP,{href:"https://chatgpt.com",target:"_blank",type:"link",children:"ChatGPT"}),(0,g.jsx)(l.default.Text,{copyable:{text:'\u4f60\u662f\u4e00\u4f4d\u64c5\u957f\u4f7f\u7528 JavaScript \u7684\u8d44\u6df1\u5de5\u7a0b\u5e08\uff0c\u6211\u9700\u8981\u4f60\u6839\u636e\u4ee5\u4e0b\u8981\u6c42\uff0c\u751f\u6210\u4ee3\u7801\uff1a\n\u4ee3\u7801\u6848\u4f8b:\n    const { importPlugin } = Util;\n    return (async() {\n        // #1 \u5728\u8fd9\u91cc\u5bfc\u5165\u5305\n        const App = () => {\n            // #2 \u5728\u8fd9\u91cc\u5b9e\u73b0\u9875\u9762\n            return (<></>);\n        }\n        return App;\n    }\n\u8bf4\u660e:\n    \u53d8\u91cf "Util._" \u5bfc\u5165\u4e86 lodash \u5e93;\n    \u53d8\u91cf "Util.dayjs" \u5bfc\u5165\u4e86 dayjs \u5e93;\n    \u53d8\u91cf "Util.cryptoJS" \u5bfc\u5165\u4e86 crypto-js \u5e93;\n    \u53d8\u91cf "Util.XLSX" \u5bfc\u5165\u4e86 SheetJS \u7684 XLSX \u5e93\u3002\n\u8981\u6c42: \n    \u4ec5\u4ec5\u8fd4\u56de\u4ee3\u7801(\u4e0d\u8981\u8f93\u51fa#1\u548c#2\u7684\u6ce8\u91ca), \u90fd\u4e0d\u9700\u8981\u5176\u4ed6\u4efb\u4f55\u56de\u7b54;\n    \u6ce8\u610f\u53ef\u4ee5\u76f4\u63a5\u4f7f\u7528\u7684\u5168\u5c40\u53d8\u91cf\u4e3a React(\u4e0d\u5141\u8bb8\u4f7f\u7528 importPlugin \u5bfc\u5165);\n    \u6ce8\u610f importPlugin \u4ec5\u4ec5\u5728 async \u65b9\u6cd5\u5185\u90e8\u4f7f\u7528, \u5e76\u4e14\u8fd4\u56de\u7684\u662f\u6a21\u5757\u7684Promise;\n    \u5f53\u8f93\u5165 "\u5bfc\u5305" \u65f6\uff0c\u5728 #1 \u4e2d\u5bfc\u5165\u9700\u8981\u7684\u5305(\u4f7f\u7528importPlugin\u66ff\u6362\u5173\u952e\u5b57import);\n    \u5f53\u8f93\u5165 "\u9700\u6c42" \u65f6, \u6309\u7167\u8981\u6c42\u5728 #2 \u4e2d\u5b8c\u6210\u3002\n\n\u6b64\u6b21\u63cf\u8ff0\u53ea\u56de\u7b54\u662f\u5426\u660e\u767d'},children:"\u63d0\u793a\u8bcd"})]}),{Title:k}=l.default,w=(()=>{const e={key:"console|index",label:"\u63a7\u5236\u53f0",closable:!1,children:null},t={};return(n,r,l,i)=>{const o=(void 0===t[a=n]&&(t[a]=[{...e}]),t[a]);var a;if(!r)return o[0].children=l,o;o[0].children=i||o[0].children;let s=!0;const c={key:r.code,label:r.name||"-",children:l};for(let e=0;e<o.length;e++){if(o[e].key===c.key){o[e]=c,s=!1;break}}return s&&o.push(c),o}})(),C=e=>{let{items:t}=e;const[n,l]=r.useState((()=>[...t])),[o,a]=r.useState();((e,t)=>{if(e.length!==t.length)return!0;for(let n=0;n<e.length;n++){const r=e[n],l=t[n];if(r.key!==l.key)return!0;if(r.label!==l.label)return!0;if(r.children!==l.children)return!0}return!1})(n,t)&&(l([...t]),a(t[t.length-1].key));return(0,g.jsx)(i.Z,{type:"editable-card",animated:!0,hideAdd:!0,size:"small",tabBarGutter:0,activeKey:o,items:n,onChange:a,onEdit:e=>{for(let n=0;n<t.length;n++){if(t[n].key===e){t.splice(n,1);break}}l([])}})};class T extends r.Component{constructor(e){super(e),this.state={didCatch:!1},this.printed=!1}static getDerivedStateFromError(e){return{didCatch:!0,error:e}}getErrorMsg(){return this.state.error?this.state.error.message:""}componentDidCatch(e,t){console.debug("[".concat(this.props.nodeName||"-","]: \u9519\u8bef\u8be6\u60c5\n"),e)}render(){return this.state.didCatch?(0,g.jsx)(o.ZP,{status:"error",title:"\u5f88\u62b1\u6b49, \u811a\u672c\u6267\u884c\u4e2d\u53d1\u751f\u4e86\u5f02\u5e38",subTitle:(0,g.jsx)(a.Z,{title:this.getErrorMsg(),placement:"bottomLeft",trigger:"hover",children:(0,g.jsx)(s.ZP,{children:"\u8be6\u60c5"})})}):this.props.children}}const P=e=>{let{state:t,context:n,manageBlock:l,getCurrentNode:i}=e;const{outputData:o,errorMsg:a}=t;let s=i();const p=m.Z.isBlank(a)?(e=>{let t=e instanceof h.j5?e.get():e;return r.isValidElement(t)||t instanceof Function||(t=void 0),t})(o):[];let f=m.Z.isBlank(a)&&!p?"":a,x=null;var j;m.Z.isBlank(f)?p?x=(0,g.jsx)(T,{nodeName:null===(j=s)||void 0===j?void 0:j.name,children:p instanceof Function?r.createElement(p):p}):(x=o?(0,g.jsxs)(g.Fragment,{children:[l,(0,g.jsx)("div",{style:{margin:"15px"},children:(0,g.jsx)(c.Z,{children:(0,g.jsx)(d.Z,{span:8,children:(0,g.jsx)(u.Z,{message:"\u65e0\u6e32\u67d3\u7ec4\u4ef6",type:"error"})})})})]}):l,s=null):(x=(0,g.jsxs)(g.Fragment,{children:[l,(0,g.jsx)("div",{style:{margin:"15px"},children:(0,g.jsx)(c.Z,{children:(0,g.jsx)(d.Z,{children:(0,g.jsx)(u.Z,{message:(0,g.jsx)("pre",{style:{marginBottom:0,minWidth:"28vw"},children:f}),type:"error"})})})})]}),s=null);return(0,g.jsx)(C,{updateItem:!!s,items:w(n.category,s,x,l)})},S=e=>{let{category:t,name:n}=e;return(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)(k,{level:3,children:n}),(0,g.jsx)(p.Z,{category:"customize-".concat(t),lang:f.bn.JSX,manage:{buttons:[],expandScriptButton:{name:"\u81ea\u5b9a\u4e49",description:"\u652f\u6301\u81ea\u5b9a\u4e49\u9875\u9762",scriptContent:"return <div>Hello, World!</div>;"},editorHelpRender:y,aiRender:b},dataUseMange:!0,dataBlockRender:P})]})}},80979:(e,t,n)=>{n.d(t,{Z:()=>k});var r=n(87462),l=n(4942),i=n(29439),o=n(45987),a=n(72502),s=n(72884),c=n.n(s),d=n(16945),u=n(47313),p=n(49242),h=n(95557),f=p.Z.ESC,m=p.Z.TAB;const g=(0,u.forwardRef)((function(e,t){var n=e.overlay,r=e.arrow,l=e.prefixCls,i=(0,u.useMemo)((function(){return"function"===typeof n?n():n}),[n]),o=(0,d.sQ)(t,null===i||void 0===i?void 0:i.ref);return u.createElement(u.Fragment,null,r&&u.createElement("div",{className:"".concat(l,"-arrow")}),u.cloneElement(i,{ref:(0,d.Yr)(i)?o:void 0}))}));var x={adjustX:1,adjustY:1},j=[0,0];const v={topLeft:{points:["bl","tl"],overflow:x,offset:[0,-4],targetOffset:j},top:{points:["bc","tc"],overflow:x,offset:[0,-4],targetOffset:j},topRight:{points:["br","tr"],overflow:x,offset:[0,-4],targetOffset:j},bottomLeft:{points:["tl","bl"],overflow:x,offset:[0,4],targetOffset:j},bottom:{points:["tc","bc"],overflow:x,offset:[0,4],targetOffset:j},bottomRight:{points:["tr","br"],overflow:x,offset:[0,4],targetOffset:j}};var y=["arrow","prefixCls","transitionName","animation","align","placement","placements","getPopupContainer","showAction","hideAction","overlayClassName","overlayStyle","visible","trigger","autoFocus","overlay","children","onVisibleChange"];function b(e,t){var n,s=e.arrow,p=void 0!==s&&s,x=e.prefixCls,j=void 0===x?"rc-dropdown":x,b=e.transitionName,k=e.animation,w=e.align,C=e.placement,T=void 0===C?"bottomLeft":C,P=e.placements,S=void 0===P?v:P,F=e.getPopupContainer,Z=e.showAction,R=e.hideAction,L=e.overlayClassName,U=e.overlayStyle,E=e.visible,N=e.trigger,A=void 0===N?["hover"]:N,B=e.autoFocus,O=e.overlay,X=e.children,I=e.onVisibleChange,J=(0,o.Z)(e,y),M=u.useState(),V=(0,i.Z)(M,2),_=V[0],D=V[1],W="visible"in e?E:_,z=u.useRef(null),H=u.useRef(null),Y=u.useRef(null);u.useImperativeHandle(t,(function(){return z.current}));var G=function(e){D(e),null===I||void 0===I||I(e)};!function(e){var t=e.visible,n=e.triggerRef,r=e.onVisibleChange,l=e.autoFocus,i=e.overlayRef,o=u.useRef(!1),a=function(){var e,l;t&&(null===(e=n.current)||void 0===e||null===(l=e.focus)||void 0===l||l.call(e),null===r||void 0===r||r(!1))},s=function(){var e;return!(null===(e=i.current)||void 0===e||!e.focus)&&(i.current.focus(),o.current=!0,!0)},c=function(e){switch(e.keyCode){case f:a();break;case m:var t=!1;o.current||(t=s()),t?e.preventDefault():a()}};u.useEffect((function(){return t?(window.addEventListener("keydown",c),l&&(0,h.Z)(s,3),function(){window.removeEventListener("keydown",c),o.current=!1}):function(){o.current=!1}}),[t])}({visible:W,triggerRef:Y,onVisibleChange:G,autoFocus:B,overlayRef:H});var Q=function(){return u.createElement(g,{ref:H,overlay:O,prefixCls:j,arrow:p})},K=u.cloneElement(X,{className:c()(null===(n=X.props)||void 0===n?void 0:n.className,W&&function(){var t=e.openClassName;return void 0!==t?t:"".concat(j,"-open")}()),ref:(0,d.Yr)(X)?(0,d.sQ)(Y,X.ref):void 0}),q=R;return q||-1===A.indexOf("contextMenu")||(q=["click"]),u.createElement(a.Z,(0,r.Z)({builtinPlacements:S},J,{prefixCls:j,ref:z,popupClassName:c()(L,(0,l.Z)({},"".concat(j,"-show-arrow"),p)),popupStyle:U,action:A,showAction:Z,hideAction:q,popupPlacement:T,popupAlign:w,popupTransitionName:b,popupAnimation:k,popupVisible:W,stretch:function(){var t=e.minOverlayWidthMatchTrigger,n=e.alignPoint;return"minOverlayWidthMatchTrigger"in e?t:!n}()?"minWidth":"",popup:"function"===typeof O?Q:Q(),onPopupVisibleChange:G,onPopupClick:function(t){var n=e.onOverlayClick;D(!1),n&&n(t)},getPopupContainer:F}),K)}const k=u.forwardRef(b)}}]);