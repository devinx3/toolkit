"use strict";(self.webpackChunktoolkit=self.webpackChunktoolkit||[]).push([[326],{4326:function(e,n,t){t.r(n),t.d(n,{default:function(){return L}});var r=t(7313),i=t(7978),o=t(5291),a=t(8197),l=t(9624),c=t(9491),s=t(1656),u=t(685),d=t(3709),p=t(5705),f=t(7222),x=t(6155),h=t(2231),v=t(3495),j=t(6986),m=t(122),g=t(571),y=t(3988),Z=t(3036),b=t(1677),O=t(6417),k=(0,O.jsxs)(O.Fragment,{children:[(0,O.jsx)(i.Z.Title,{level:3,children:"\u5e2e\u52a9\u6587\u6863"}),(0,O.jsx)(i.Z.Title,{level:4,children:"\u4f7f\u7528\u4ecb\u7ecd"}),(0,O.jsx)(i.Z.Paragraph,{children:"\u65b9\u6cd5\u7684\u5165\u53c2\u4e3a:inputData, inputObj, Util"}),(0,O.jsx)(i.Z.Paragraph,{children:"\u65b9\u6cd5\u7684\u8fd4\u56de\u503c: \u5982\u679c\u8fd4\u56de Object, \u5c06\u4f1a\u88ab\u8f6c\u6362\u6210\u5b57\u7b26\u4e32"}),(0,O.jsxs)(i.Z.Paragraph,{children:[(0,O.jsx)(i.Z.Text,{code:!0,copyable:!0,children:"inputData"}),": \u8f93\u5165\u6570\u636e"]}),(0,O.jsxs)(i.Z.Paragraph,{children:[(0,O.jsx)(i.Z.Text,{code:!0,copyable:!0,children:"inputObj"}),": \u8f93\u5165\u6570\u636e\u8f6c\u6362\u7684Json\u5bf9\u8c61"]}),(0,O.jsxs)(i.Z.Paragraph,{children:[(0,O.jsx)(i.Z.Text,{code:!0,copyable:!0,children:"Util"}),": \u5185\u7f6e\u7684\u5de5\u5177\u7c7b"]}),(0,O.jsxs)(i.Z.Paragraph,{children:["\u4f7f\u7528\u8005\u4ec5\u4ec5\u9700\u8981\u5b9e\u73b0",(0,O.jsx)("b",{children:"\u65b9\u6cd5\u4f53"})]}),(0,O.jsx)(i.Z.Title,{level:5,children:"\u8f6c\u6362\u65b9\u6cd5\u6837\u4f8b"}),(0,O.jsx)("div",{style:{whiteSpace:"pre-wrap"},children:(0,O.jsx)(i.Z.Paragraph,{code:!0,copyable:{text:"return inputObj;"},children:"function anonymous(inputData, inputObj, Util) {\n    // \u5904\u7406\u903b\u8f91\n    return inputData;\n}"})}),(0,O.jsx)("br",{})]}),C=(0,O.jsxs)(O.Fragment,{children:[(0,O.jsx)(i.Z.Title,{level:3,children:"\u5e38\u7528\u5de5\u5177"}),(0,O.jsx)("div",{style:{whiteSpace:"pre-wrap"},children:(0,O.jsx)(i.Z.Paragraph,{code:!0,copyable:!0,children:"const { _, dayjs, message } = Util"})}),(0,O.jsxs)(i.Z.Paragraph,{children:[(0,O.jsx)(i.Z.Title,{level:5,children:"\u5de5\u5177\u5e93"}),(0,O.jsx)(i.Z.Text,{code:!0,copyable:!0,children:"const { _ } = Util"}),(0,O.jsx)(i.Z.Link,{style:{marginLeft:"5px"},href:"https://www.lodashjs.com/",target:"_blank",children:"loadsh \u5b98\u7f51"})]}),(0,O.jsxs)(i.Z.Paragraph,{children:[(0,O.jsx)(i.Z.Title,{level:5,children:"\u65e5\u671f\u5de5\u5177"}),(0,O.jsx)(i.Z.Text,{code:!0,copyable:!0,children:"const { dayjs } = Util"}),(0,O.jsx)(i.Z.Link,{style:{marginLeft:"5px"},href:"https://dayjs.gitee.io/zh-CN/",target:"_blank",children:"Day.js \u5b98\u7f51"})]}),(0,O.jsxs)(i.Z.Paragraph,{children:[(0,O.jsx)(i.Z.Title,{level:5,children:"\u6d88\u606f\u5de5\u5177"}),(0,O.jsx)(i.Z.Text,{code:!0,copyable:!0,children:"const { message } = Util"}),(0,O.jsx)(i.Z.Text,{children:"\u6d88\u606f\u63d0\u793a\u65b9\u6cd5\uff0c\u4f7f\u7528\u65b9\u5f0f\u548c\u53c2\u6570\u5982\u4e0b:"}),(0,O.jsx)("br",{}),(0,O.jsx)(i.Z.Text,{children:"(content: \u6d88\u606f\u5185\u5bb9, duration: \u81ea\u52a8\u5173\u95ed\u7684\u5ef6\u65f6, \u5355\u4f4d\u79d2, \u8bbe\u4e3a0\u65f6\u4e0d\u81ea\u52a8\u5173\u95ed)"}),(0,O.jsx)("br",{}),(0,O.jsx)(i.Z.Text,{code:!0,children:"message.success(content, [duration])"}),(0,O.jsx)("br",{}),(0,O.jsx)(i.Z.Text,{code:!0,children:"message.error(content, [duration])"}),(0,O.jsx)("br",{}),(0,O.jsx)(i.Z.Text,{code:!0,children:"message.info(content, [duration])"}),(0,O.jsx)("br",{}),(0,O.jsx)(i.Z.Text,{code:!0,children:"message.warning(content, [duration])"}),(0,O.jsx)("br",{}),(0,O.jsx)(i.Z.Text,{code:!0,children:"message.loading(content, [duration])"})]})]}),w=(0,O.jsxs)(O.Fragment,{children:[(0,O.jsx)(i.Z.Title,{level:3,children:"\u904d\u5386\u5bf9\u8c61"}),(0,O.jsx)("div",{style:{whiteSpace:"pre-wrap"},children:(0,O.jsx)(i.Z.Paragraph,{code:!0,copyable:!0,children:'/**\n * \u904d\u5386\u5bf9\u8c61, \u5e76\u4fee\u6539\u5b57\u6bb5\u548c\u503c\n * @param current       \u8f93\u5165\u5bf9\u8c61\n * @param parent        \u7236\u7ea7\u5bf9\u8c61; \u82e5\u4e3a\u7a7a, \u5219\u8ba4\u4e3a\u662f\u9876\u7ea7; {key, val, index} \n * @returns \u5904\u7406\u540e\u7684\u5bf9\u8c61\n */\nconst traverseObj = (current, parent) => {\n    if (current === undefined || current === null) {\n        return current;\n    }\n    if (current.constructor === Array) {\n        for (let index = 0; index < current.length; index++) {\n            current[index] = traverseObj(current[index], {key: parent && parent.key, val: current, index: index});\n        }\n    } else if (current.constructor === Object) {\n        for (let key in current) {\n            const newObj = traverseObj(current[key], {key: key, val: current});\n            if (parent) {\n                current[key] = newObj;\n            }\n        }\n    }\n    // \u903b\u8f91\u5904\u7406 TODO\n    return current;\n};\nconsole.log("inputObj", inputObj);\nreturn traverseObj(inputObj);'})})]}),T=function(){return(0,O.jsxs)(O.Fragment,{children:[(0,O.jsx)(b.Z,{placement:"rightTop",content:k,title:null,trigger:"click",children:(0,O.jsx)(c.Z,{type:"link",children:"\u5e2e\u52a9\u6587\u6863"})}),(0,O.jsx)(b.Z,{placement:"rightTop",content:C,title:null,trigger:"click",children:(0,O.jsx)(c.Z,{type:"link",children:"\u5e38\u7528\u5de5\u5177"})}),(0,O.jsx)(b.Z,{placement:"rightTop",content:w,title:null,trigger:"click",children:(0,O.jsx)(c.Z,{type:"link",children:"\u904d\u5386\u5bf9\u8c61\u6837\u4f8b"})})]})},S=t(7518),N=i.Z.Title,E=function(e){return!y.Z.isBlank(e)&&""!==e.trim()||"\u8bf7\u8f93\u5165JSON\u5b57\u7b26\u4e32"},P=1048576,z=2*P,A=function(e){var n=e.state,t=e.setCheckInputData,i=n.inputData,x=n.setInputData,m=n.outputData,b=n.setOutputData,k=n.errorMsg,C=n.setErrorMsg;t(E);var w=function(e,n){var t=E(e);if(!0===t)try{x(n(e)),C(null)}catch(r){C(r.message)}else C(t)},T=function(e){var n=!0===e&&y.Z.isStr(m)?JSON.stringify(JSON.parse(m)):m;if(y.Z.copyToClipboard(n))return o.ZP.info("\u590d\u5236\u6210\u529f"),!0};return r.useEffect((function(){m&&m.length>z&&(Z.Z.download(m,"download.json"),C("\u6587\u4ef6\u8d85\u8fc7 ".concat(2," MB, \u5df2\u81ea\u52a8\u4e0b\u8f7d")),b(""))}),[m,C,b]),(0,O.jsxs)(a.Z,{style:{marginTop:"20px"},children:[(0,O.jsxs)(l.Z,{span:7,children:[(0,O.jsx)(c.Z,{size:"small",style:{backgroundColor:"#428bca",color:"#fff",borderColor:"#357ebd"},onClick:function(){w(i,(function(e){return JSON.stringify(JSON.parse(e),null,2)}))},children:"\u683c\u5f0f\u5316"}),(0,O.jsx)(c.Z,{size:"small",style:{marginLeft:"5px",backgroundColor:"#5cb85c",color:"#fff",borderColor:"#4cae4c"},onClick:function(e){w(i,(function(e){return JSON.stringify(JSON.parse(e))}))},children:"\u538b\u7f29"}),(0,O.jsx)(s.Z,{maxCount:1,beforeUpload:function(e){return Z.Z.readAsText(e,x),!1},children:(0,O.jsx)(c.Z,{size:"small",icon:(0,O.jsx)(h.Z,{}),style:{marginLeft:"5px"},children:"\u5bfc\u5165"})}),(0,O.jsx)(u.Z.TextArea,{autoSize:{minRows:25,maxRows:40},style:{marginTop:"5px"},rows:30,placeholder:"\u5f85\u5904\u7406\u7684JSON\u7247\u6bb5",value:i,onChange:function(e){x(e.target.value),b(""),C("")}})]}),(0,O.jsx)(l.Z,{span:10,style:{marginLeft:"30px"},children:y.Z.isBlank(k)?y.Z.isBlank(m)||m.length>z?null:(0,O.jsxs)(O.Fragment,{children:[(0,O.jsxs)(p.Z,{children:[(0,O.jsx)(f.Z,{title:"\u8986\u76d6\u5f85\u5904\u7406\u8f93\u5165\u6846",children:(0,O.jsx)(c.Z,{type:"text",icon:(0,O.jsx)(v.Z,{}),onClick:function(){return x(m)}})}),(0,O.jsx)(g.Z,{type:"text",onClick:T,size:"small"}),(0,O.jsx)(f.Z,{title:"\u4e0b\u8f7d",children:(0,O.jsx)(j.Z,{style:{marginLeft:"8px"},onClick:function(){Z.Z.download(m,"output.json")}})}),(0,O.jsx)(g.Z,{tipTitle:"\u538b\u7f29\u5e76\u590d\u5236",type:"dashed",onClick:function(){return T(!0)},size:"small"})]}),(0,O.jsx)("pre",{children:m})]}):(0,O.jsx)(d.Z,{message:k,type:"error"})})]})},D=function e(n){for(var t in n)if(void 0===n[t]||null===n[t]||""===n[t])delete n[t];else if(n[t].constructor===Object)0===Object.keys(n[t]).length&&delete n[t],e(n[t]);else if(n[t].constructor===Array)if(Array.prototype.isPrototypeOf(n[t])&&0===n[t].length)delete n[t];else for(var r=0;r<n[t].length;r++)void 0!==n[t][r]&&null!==n[t][r]&&""!==n[t][r]&&"{}"!==JSON.stringify(n[t][r])||(n[t].splice(r,1),r--),n[t][r].constructor!==Object&&n[t][r].constructor!==Array||e(n[t][r]);return n},_=function e(n){if(void 0===n||null===n)return n;var t=function(e){var n={};for(var t in e){n[t.replace(/_(\w)/g,(function(e,n){return n.toUpperCase()}))]=e[t]}return n};if(n.constructor===Array){for(var r=0;r<n.length;r++)n[r]=e(n[r]);return n}if(n.constructor===Object){if(void 0===(n=t(n))||null===n)return;for(var i in n)!n[i]||n[i].constructor!==Object&&n[i].constructor!==Array||(n[i]=e(n[i]))}return n},L=function(){return(0,O.jsxs)(O.Fragment,{children:[(0,O.jsx)(N,{level:3,children:"\u7f16\u8f91JSON"}),(0,O.jsx)(x.Z,{}),(0,O.jsx)(m.Z,{lang:S.b.JSON,manage:{buttons:[{name:"\u5220\u9664\u7a7a\u5b57\u6bb5",description:"\u5220\u9664\u503c\u4e3a\u7a7a\u7684\u5b57\u6bb5",scriptContent:"const _INNER_ = ".concat(D.toString(),";return _INNER_(inputObj);")},{name:"\u4e0b\u5212\u7ebf\u8f6c\u9a7c\u5cf0",description:"JSON key \u4e0b\u5212\u7ebf\u8f6c\u9a7c\u5cf0",scriptContent:"const _INNER_ = ".concat(_.toString(),";return _INNER_(inputObj);")}],expandScriptButton:{name:"\u81ea\u5b9a\u4e49\u914d\u7f6e",description:"\u652f\u6301\u8f6c\u6362\u548c\u6dfb\u52a0\u81ea\u5b9a\u4e49\u914d\u7f6e",scriptContent:"return inputObj;"},expandCombinationButton:{name:"\u81ea\u5b9a\u4e49\u7ec4\u5408",description:"\u652f\u6301\u591a\u811a\u672c\u987a\u5e8f\u6267\u884c"},editorHelpRender:T},dataBlockRender:A})]})}},7518:function(e,n,t){t.d(n,{b:function(){return r}});var r={JSON:"json",TXT:"txt"}},122:function(e,n,t){var r=t(1413),i=t(5671),o=t(3144),a=t(7313),l=t(7518),c=t(6417),s=a.lazy((function(){return Promise.all([t.e(984),t.e(708),t.e(241)]).then(t.bind(t,5511))})),u=a.lazy((function(){return Promise.all([t.e(984),t.e(512),t.e(51)]).then(t.bind(t,3766))})),d=function(){function e(){(0,i.Z)(this,e),this.convertHandler=null}return(0,o.Z)(e,[{key:"setConvertHandler",value:function(e){this.convertHandler=e}},{key:"hasConvertHandler",value:function(){return!!this.convertHandler}},{key:"onConvert",value:function(e){if(this.convertHandler)return this.convertHandler(e);console.warn("No convert handler")}}]),e}(),p={};p[l.b.JSON]=function(e){return e instanceof Object?e:JSON.parse(e)};n.Z=function(e){var n=e.lang,t=void 0===n?"txt":n,i=e.manage,o=e.handleInputObj,l=e.dataBlockRender,f=a.useMemo((function(){return new d}),[]),x=(0,r.Z)((0,r.Z)({lang:t},i),{},{context:f}),h={context:f,dataBlockRender:l,handleInputObj:o||p[t]};return(0,c.jsxs)(a.Suspense,{fallback:(0,c.jsx)(c.Fragment,{}),children:[(0,c.jsx)(s,(0,r.Z)({},x)),(0,c.jsx)(u,(0,r.Z)({},h))]})}},571:function(e,n,t){var r=t(1413),i=t(9439),o=t(7313),a=t(7222),l=t(9491),c=t(3681),s=t(6407),u=t(7534),d=t(6417);n.Z=function(e){var n=o.useState(!1),t=(0,i.Z)(n,2),p=t[0],f=t[1],x=u.Z.omit(e,["tipTitle"]);return(0,d.jsx)(a.Z,{title:e.tipTitle||"\u590d\u5236",children:(0,d.jsx)(l.Z,(0,r.Z)((0,r.Z)({},x),{},{onClick:function(n){if(!p&&e.onClick){var t=e.onClick(n);return!0===t&&f(!0),t}},icon:p?(0,d.jsx)(c.Z,{style:{color:"#52c41a"}}):(0,d.jsx)(s.Z,{}),onMouseLeave:function(){p&&f(!1)}}))})}},3036:function(e,n){var t={readAsText:function(e,n,t){t||(t="utf8");var r=new FileReader;r.onload=function(){n(r.result)},r.readAsText(e,t)},download:function(e,n){n||(n="download");var t=URL.createObjectURL(new Blob([e])),r=document.createElement("a");r.href=t,r.setAttribute("download",n),document.body.appendChild(r),r.click(),document.body.removeChild(r)}};n.Z=t},7534:function(e,n,t){t.d(n,{X:function(){return i}});var r={},i={loadMonaco:"converter.loadEditor.loadMonaco.loaded"},o={getFromCache:function(e){return r[e]},setToCache:function(e,n){return r[e]=n},getAdvanceKey:function(){return"active=adv"},enableAdvance:function(){return null!==r.adv&&void 0!==r.adv||(r.adv="1"===window.localStorage.getItem(o.getAdvanceKey())),!0===r.adv},setAdvance:function(){r.adv=!0,window.localStorage.setItem(o.getAdvanceKey(),"1")},omit:function(e,n){for(var t=Object.assign({},e),r=0;r<n.length;r+=1){delete t[n[r]]}return t}};n.Z=o},3988:function(e,n){var t={underlineToHump:function(e){return e.replace(/_(\w)/g,(function(e,n){return n.toUpperCase()}))},humpToUnderline:function(e){return e.replace(/([A-Z])/g,"_$1").toLowerCase()},isStr:function(e){return"string"===typeof e},isBlank:function(e){return void 0===e||null===e||""===e},copyToClipboard:function(e){var n=document.createElement("textarea");n.value=e,document.body.appendChild(n),n.select();var t=document.execCommand("copy");return n.remove(),t}};n.Z=t},3961:function(e,n,t){t.d(n,{Z:function(){return r}});var r=function(e){return e?"function"===typeof e?e():e:null}},1677:function(e,n,t){var r=t(7462),i=t(7313),o=t(4714),a=t(7222),l=t(3961),c=t(3553),s=function(e,n){var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&n.indexOf(r)<0&&(t[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)n.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(t[r[i]]=e[r[i]])}return t},u=function(e){var n=e.title,t=e.content,r=e.prefixCls;return n||t?i.createElement(i.Fragment,null,n&&i.createElement("div",{className:"".concat(r,"-title")},(0,l.Z)(n)),i.createElement("div",{className:"".concat(r,"-inner-content")},(0,l.Z)(t))):null},d=i.forwardRef((function(e,n){var t=e.prefixCls,l=e.title,d=e.content,p=e._overlay,f=e.placement,x=void 0===f?"top":f,h=e.trigger,v=void 0===h?"hover":h,j=e.mouseEnterDelay,m=void 0===j?.1:j,g=e.mouseLeaveDelay,y=void 0===g?.1:g,Z=e.overlayStyle,b=void 0===Z?{}:Z,O=s(e,["prefixCls","title","content","_overlay","placement","trigger","mouseEnterDelay","mouseLeaveDelay","overlayStyle"]),k=i.useContext(o.E_).getPrefixCls,C=k("popover",t),w=k();return i.createElement(a.Z,(0,r.Z)({placement:x,trigger:v,mouseEnterDelay:m,mouseLeaveDelay:y,overlayStyle:b},O,{prefixCls:C,ref:n,overlay:p||i.createElement(u,{prefixCls:C,title:l,content:d}),transitionName:(0,c.mL)(w,"zoom-big",O.transitionName)}))}));n.Z=d},5705:function(e,n,t){t.d(n,{u:function(){return x},Z:function(){return v}});var r=t(7462),i=t(4942),o=t(9439),a=t(6123),l=t.n(a),c=t(4903),s=t(7313),u=t(4714),d=t(640);function p(e){var n=e.className,t=e.direction,o=e.index,a=e.marginDirection,l=e.children,c=e.split,u=e.wrap,d=s.useContext(x),p=d.horizontalSize,f=d.verticalSize,h=d.latestIndex,v={};return d.supportFlexGap||("vertical"===t?o<h&&(v={marginBottom:p/(c?2:1)}):v=(0,r.Z)((0,r.Z)({},o<h&&(0,i.Z)({},a,p/(c?2:1))),u&&{paddingBottom:f})),null===l||void 0===l?null:s.createElement(s.Fragment,null,s.createElement("div",{className:n,style:v},l),o<h&&c&&s.createElement("span",{className:"".concat(n,"-split"),style:v},c))}var f=function(e,n){var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&n.indexOf(r)<0&&(t[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)n.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(t[r[i]]=e[r[i]])}return t},x=s.createContext({latestIndex:0,horizontalSize:0,verticalSize:0,supportFlexGap:!1}),h={small:8,middle:16,large:24};var v=function(e){var n,t=s.useContext(u.E_),a=t.getPrefixCls,v=t.space,j=t.direction,m=e.size,g=void 0===m?(null===v||void 0===v?void 0:v.size)||"small":m,y=e.align,Z=e.className,b=e.children,O=e.direction,k=void 0===O?"horizontal":O,C=e.prefixCls,w=e.split,T=e.style,S=e.wrap,N=void 0!==S&&S,E=f(e,["size","align","className","children","direction","prefixCls","split","style","wrap"]),P=(0,d.Z)(),z=s.useMemo((function(){return(Array.isArray(g)?g:[g,g]).map((function(e){return function(e){return"string"===typeof e?h[e]:e||0}(e)}))}),[g]),A=(0,o.Z)(z,2),D=A[0],_=A[1],L=(0,c.Z)(b,{keepEmpty:!0}),J=void 0===y&&"horizontal"===k?"center":y,I=a("space",C),R=l()(I,"".concat(I,"-").concat(k),(n={},(0,i.Z)(n,"".concat(I,"-rtl"),"rtl"===j),(0,i.Z)(n,"".concat(I,"-align-").concat(J),J),n),Z),B="".concat(I,"-item"),F="rtl"===j?"marginLeft":"marginRight",U=0,H=L.map((function(e,n){null!==e&&void 0!==e&&(U=n);var t=e&&e.key||"".concat(B,"-").concat(n);return s.createElement(p,{className:B,key:t,direction:k,index:n,marginDirection:F,split:w,wrap:N},e)})),M=s.useMemo((function(){return{horizontalSize:D,verticalSize:_,latestIndex:U,supportFlexGap:P}}),[D,_,U,P]);if(0===L.length)return null;var G={};return N&&(G.flexWrap="wrap",P||(G.marginBottom=-_)),P&&(G.columnGap=D,G.rowGap=_),s.createElement("div",(0,r.Z)({className:R,style:(0,r.Z)((0,r.Z)({},G),T)},E),s.createElement(x.Provider,{value:M},H))}}}]);