(self.webpackChunktoolkit=self.webpackChunktoolkit||[]).push([[328,223],{20162:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>b});var r=n(68197),i=n(59624),s=n(44730),o=n(67407),a=n(47313),c=n(87518),l=n(80122),d=n(23988),h=n(87223),u=n(93160),p=(n(73365),n(38475)),g=n(46417);const x=a.lazy((()=>Promise.all([n.e(662),n.e(943)]).then(n.bind(n,6945)))),m=e=>{const t=null!==e&&void 0!==e&&e.indexOf?e.indexOf("?"):-1;return new URLSearchParams(t<0?void 0:e.substring(t+1))},f=m(window.location.href),v=async(e,t)=>{const n=await p.Z.get(e,{responseType:"text"});if(200!==n.status)throw new Error(n.statusText);let r=(0,u.V2)(n.data,t);return 1!==r.length&&console.log("\u524d\u6709".concat(r.length,"\u4e2a\u7ec4\u4ef6, \u4ec5\u4ec5\u6e32\u67d3\u4e86\u7b2c1\u4e2a\u7ec4\u4ef6")),r[0]},j=e=>{let{state:t,context:n,manageBlock:o,getCurrentNode:c}=e;const{outputData:l,errorMsg:u}=t;let p=c();const x=d.Z.isBlank(u)?(0,h.convertOuput)(l):[];let m=d.Z.isBlank(u)&&!x?"":u,f=null;return f=d.Z.isBlank(m)?x?(0,g.jsx)(h.ScriptErrorBoundary,{nodeName:null===p||void 0===p?void 0:p.name,children:x instanceof Function?a.createElement(x):x}):l?(0,g.jsxs)(g.Fragment,{children:[o,(0,g.jsx)("div",{style:{margin:"15px"},children:(0,g.jsx)(r.Z,{children:(0,g.jsx)(i.Z,{span:8,children:(0,g.jsx)(s.Z,{message:"\u65e0\u6e32\u67d3\u7ec4\u4ef6",type:"error"})})})})]}):o:(0,g.jsxs)(g.Fragment,{children:[o,(0,g.jsx)("div",{style:{margin:"15px"},children:(0,g.jsx)(r.Z,{children:(0,g.jsx)(i.Z,{children:(0,g.jsx)(s.Z,{message:(0,g.jsx)("pre",{style:{marginBottom:0,minWidth:"28vw"},children:m}),type:"error"})})})})]}),(0,g.jsx)("div",{children:f})};let y=!1;const b=()=>{const e=a.useMemo((()=>new l.v),[]);a.useEffect((()=>{y||(y=!0,(async()=>{let e=f.get("shareData");if(e)return(0,u.Ls)(e);let t=f.get("secretKey"),n=f.get("importUrl");var r;if(n)return n=window.decodeURIComponent(n),t=t||(null===(r=m(n).get("secretKey"))||void 0===r?void 0:r.trim()),v(n,t);let i=f.get("githubGist");if(i){let e="https://gist.githubusercontent.com/"+(f.get("username")||"devinx3")+"/"+i;return i.includes("/")||(e+="/raw"),v(e,t)}let s=f.get("dpasteItemId");return s?v("https://dpaste.com/".concat(s,".txt"),t):null})().then((t=>{t?(e.onConvert(e.createScriptEvent(t.code,t.name,t.scriptContent,t.version)),t.name&&setTimeout((()=>window.document.title=t.name),300)):e.onConvert(e.createScriptEvent("empty","page","",1))})).catch((e=>{console.error("\u83b7\u53d6\u811a\u672c\u5931\u8d25",e),o.ZP.error("\u83b7\u53d6\u811a\u672c\u5931\u8d25: "+(e.message||""),0)})))}),[e]);const t={lang:c.bn.JSX,category:"customize-initial-page",context:e,dataBlockRender:j};return(0,g.jsx)("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,zIndex:1,backgroundColor:"inherit"},children:(0,g.jsx)("div",{style:{marginLeft:"5px",marginTop:"10px"},children:(0,g.jsx)(x,{...t})})})}},87223:(e,t,n)=>{"use strict";n.r(t),n.d(t,{ScriptErrorBoundary:()=>T,convertOuput:()=>Z,default:()=>O});var r=n(47313),i=n(7432),s=n(76047),o=n(45147),a=n(61677),c=n(23232),l=n(68197),d=n(59624),h=n(44730),u=n(80122),p=n(83770),g=n(87518),x=n(23988),m=n(43299),f=n(46417);const v=(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)(i.default.Title,{level:3,children:"\u5e2e\u52a9\u6587\u6863"}),(0,f.jsx)(i.default.Title,{level:4,children:"\u4f7f\u7528\u4ecb\u7ecd"}),(0,f.jsx)(i.default.Paragraph,{children:"\u65b9\u6cd5\u7684\u5165\u53c2\u4e3a: Util, React"}),(0,f.jsx)(i.default.Paragraph,{children:"\u65b9\u6cd5\u7684\u8fd4\u56de\u503c: \u652f\u6301 async \u7684\u65b9\u6cd5; Promise \u5bf9\u8c61, resolve\u65b9\u6cd5\u7684\u53c2\u6570\u5373\u4e3a\u8fd4\u56de\u503c, reject\u65b9\u6cd5\u7684\u53c2\u6570\u5373\u4e3a\u62a5\u9519\u63d0\u793a"}),(0,f.jsxs)(i.default.Paragraph,{children:[(0,f.jsx)(i.default.Text,{code:!0,copyable:!0,children:"Util"}),": \u5185\u7f6e\u7684\u5de5\u5177\u7c7b"]}),(0,f.jsxs)(i.default.Paragraph,{children:["\u4f7f\u7528\u8005\u4ec5\u4ec5\u9700\u8981\u5b9e\u73b0",(0,f.jsx)("b",{children:"\u65b9\u6cd5\u4f53"})]}),(0,f.jsx)(i.default.Title,{level:5,children:"\u8f6c\u6362\u65b9\u6cd5\u6837\u4f8b"}),(0,f.jsx)("div",{style:{whiteSpace:"pre-wrap"},children:(0,f.jsx)(i.default.Paragraph,{code:!0,copyable:{text:"return inputObj;"},children:"function anonymous(Util, React) {\n    // \u5904\u7406\u903b\u8f91\n    return <div>Hello, World!<div>;\n}"})}),(0,f.jsx)("br",{})]}),j=(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)(i.default.Title,{level:3,children:"\u5e38\u7528\u5de5\u5177"}),(0,f.jsx)("div",{style:{whiteSpace:"pre-wrap"},children:(0,f.jsx)(i.default.Paragraph,{code:!0,copyable:!0,children:"const { _, dayjs, cryptoJS, XLSX, message, importPlugin } = Util"})}),(0,f.jsxs)(i.default.Paragraph,{children:[(0,f.jsx)(i.default.Title,{level:5,children:"\u5de5\u5177\u5e93"}),(0,f.jsx)(i.default.Text,{code:!0,copyable:!0,children:"const { _ } = Util"}),(0,f.jsx)(i.default.Link,{style:{marginLeft:"5px"},href:"https://www.lodashjs.com/",target:"_blank",children:"loadsh \u5b98\u7f51"})]}),(0,f.jsxs)(i.default.Paragraph,{children:[(0,f.jsx)(i.default.Title,{level:5,children:"\u65e5\u671f\u5de5\u5177"}),(0,f.jsx)(i.default.Text,{code:!0,copyable:!0,children:"const { dayjs } = Util"}),(0,f.jsx)(i.default.Link,{style:{marginLeft:"5px"},href:"https://dayjs.gitee.io/zh-CN/",target:"_blank",children:"Day.js \u5b98\u7f51"})]}),(0,f.jsxs)(i.default.Paragraph,{children:[(0,f.jsx)(i.default.Title,{level:5,children:"\u52a0\u5bc6\u5de5\u5177"}),(0,f.jsx)(i.default.Text,{code:!0,copyable:!0,children:"const { cryptoJS } = Util"}),(0,f.jsx)(i.default.Link,{style:{marginLeft:"5px"},href:"https://github.com/brix/crypto-js",target:"_blank",children:"crypto-js"})]}),(0,f.jsxs)(i.default.Paragraph,{children:[(0,f.jsx)(i.default.Title,{level:5,children:"\u6587\u4ef6\u5de5\u5177"}),(0,f.jsx)(i.default.Text,{code:!0,copyable:!0,children:"const { XLSX } = Util"}),(0,f.jsx)(i.default.Link,{style:{marginLeft:"5px"},href:"https://github.com/rockboom/SheetJS-docs-zh-CN/",target:"_blank",children:"SheetJS \u6587\u6863"})]}),(0,f.jsxs)(i.default.Paragraph,{children:[(0,f.jsx)(i.default.Title,{level:5,children:"\u6d88\u606f\u5de5\u5177"}),(0,f.jsx)(i.default.Text,{code:!0,copyable:!0,children:"const { message } = Util"}),(0,f.jsx)(i.default.Text,{children:"\u6d88\u606f\u63d0\u793a\u65b9\u6cd5\uff0c\u4f7f\u7528\u65b9\u5f0f\u548c\u53c2\u6570\u5982\u4e0b:"}),(0,f.jsx)("br",{}),(0,f.jsx)(i.default.Text,{children:"(content: \u6d88\u606f\u5185\u5bb9, duration: \u81ea\u52a8\u5173\u95ed\u7684\u5ef6\u65f6, \u5355\u4f4d\u79d2, \u8bbe\u4e3a0\u65f6\u4e0d\u81ea\u52a8\u5173\u95ed)"}),(0,f.jsx)("br",{}),(0,f.jsx)(i.default.Text,{code:!0,children:"message.success(content, [duration])"}),(0,f.jsx)("br",{}),(0,f.jsx)(i.default.Text,{code:!0,children:"message.error(content, [duration])"}),(0,f.jsx)("br",{}),(0,f.jsx)(i.default.Text,{code:!0,children:"message.info(content, [duration])"}),(0,f.jsx)("br",{}),(0,f.jsx)(i.default.Text,{code:!0,children:"message.warning(content, [duration])"}),(0,f.jsx)("br",{}),(0,f.jsx)(i.default.Text,{code:!0,children:"message.loading(content, [duration])"})]}),(0,f.jsxs)(i.default.Paragraph,{children:[(0,f.jsx)(i.default.Title,{level:5,children:"\u5bfc\u5165\u63d2\u4ef6(\u5f02\u6b65)"}),(0,f.jsx)(i.default.Text,{code:!0,copyable:!0,children:"const { importPlugin } = Util"}),(0,f.jsx)("br",{}),(0,f.jsx)(i.default.Text,{code:!0,copyable:!0,children:'const { Button } = await importPlugin("antd")'})]})]}),y=e=>{let{title:t,codeDemo:n}=e;return(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)(i.default.Title,{level:3,children:t}),(0,f.jsx)("div",{style:{whiteSpace:"pre-wrap"},children:(0,f.jsx)(i.default.Paragraph,{code:!0,copyable:!0,children:n})})]})},b=e=>{let{title:t,content:n}=e;const[i,s]=r.useState(!1);return(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)(c.ZP,{type:"link",onClick:()=>s(!0),children:t}),(0,f.jsx)(m.Z,{title:null,placement:"right",width:800,onClose:()=>s(!1),closeIcon:null,open:i,children:n})]})},S=()=>(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)(b,{title:"\u5e2e\u52a9\u6587\u6863",content:v}),(0,f.jsx)(b,{title:"\u5e38\u7528\u5de5\u5177",content:j}),(0,f.jsx)(b,{title:"Form \u793a\u4f8b\u6587\u6863",content:(0,f.jsx)(y,{title:"Form \u793a\u4f8b\u6587\u6863",codeDemo:'// \u811a\u672c\u6267\u884c\u533a\nconst { importPlugin } = Util;\nreturn async () => {\n    // \u811a\u672c\u6267\u884c\u533a(\u5f02\u6b65\u5bfc\u5165\u63d2\u4ef6)\n    const { Row, Col, Form, Input, Space, Button } = await importPlugin("antd");\n    // \u5b9a\u4e49\u6e32\u67d3\u7ec4\u4ef6\n    const App = () => {\n        const [content, setContent] = React.useState(\'\');\n        const [form] = Form.useForm();\n        const onFinish = () => {\n            const obj = form.getFieldsValue();\n            setContent(JSON.stringify(obj, null, 2))\n        }\n        return <Row>\n            <Col span={5}>\n                <Form form={form} onFinish={onFinish}>\n                    <Form.Item>\n                        <Space>\n                            <Button type="primary" htmlType="submit">\u8f6c\u6362</Button>\n\n                            <Button htmlType="button" onClick={() => form.resetFields()}>\u91cd\u7f6e</Button>\n                        </Space>\n                    </Form.Item>\n                    <Form.Item label="\u540d\u79f0" name="name"><Input /></Form.Item>\n                </Form>\n            </Col>\n            <Col span={1} />\n            <Col span={10}>\n                <Input.TextArea value={content} rows={16} />\n            </Col>\n        </Row>\n    }\n    // \u8fd4\u56de\u6e32\u67d3\u7ec4\u4ef6\n    return App\n}'})})]}),w=()=>(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)(c.ZP,{href:"https://chatgpt.com",target:"_blank",type:"link",children:"ChatGPT"}),(0,f.jsx)(i.default.Text,{copyable:{text:'\u4f60\u662f\u4e00\u4f4d\u64c5\u957f\u4f7f\u7528 JavaScript \u7684\u8d44\u6df1\u5de5\u7a0b\u5e08\uff0c\u6211\u9700\u8981\u4f60\u6839\u636e\u4ee5\u4e0b\u8981\u6c42\uff0c\u751f\u6210\u4ee3\u7801\uff1a\n\u4ee3\u7801\u6848\u4f8b:\n    const { importPlugin } = Util;\n    return (async() {\n        // #1 \u5728\u8fd9\u91cc\u5bfc\u5165\u5305\n        const App = () => {\n            // #2 \u5728\u8fd9\u91cc\u5b9e\u73b0\u9875\u9762\n            return (<></>);\n        }\n        return App;\n    }\n\u8bf4\u660e:\n    \u53d8\u91cf "Util._" \u5bfc\u5165\u4e86 lodash \u5e93;\n    \u53d8\u91cf "Util.dayjs" \u5bfc\u5165\u4e86 dayjs \u5e93;\n    \u53d8\u91cf "Util.cryptoJS" \u5bfc\u5165\u4e86 crypto-js \u5e93;\n    \u53d8\u91cf "Util.XLSX" \u5bfc\u5165\u4e86 SheetJS \u7684 XLSX \u5e93\u3002\n\u8981\u6c42: \n    \u4ec5\u4ec5\u8fd4\u56de\u4ee3\u7801(\u4e0d\u8981\u8f93\u51fa#1\u548c#2\u7684\u6ce8\u91ca), \u90fd\u4e0d\u9700\u8981\u5176\u4ed6\u4efb\u4f55\u56de\u7b54;\n    \u6ce8\u610f\u53ef\u4ee5\u76f4\u63a5\u4f7f\u7528\u7684\u5168\u5c40\u53d8\u91cf\u4e3a React(\u4e0d\u5141\u8bb8\u4f7f\u7528 importPlugin \u5bfc\u5165);\n    \u6ce8\u610f importPlugin \u4ec5\u4ec5\u5728 async \u65b9\u6cd5\u5185\u90e8\u4f7f\u7528, \u5e76\u4e14\u8fd4\u56de\u7684\u662f\u6a21\u5757\u7684Promise;\n    \u5f53\u8f93\u5165 "\u5bfc\u5305" \u65f6\uff0c\u5728 #1 \u4e2d\u5bfc\u5165\u9700\u8981\u7684\u5305(\u4f7f\u7528importPlugin\u66ff\u6362\u5173\u952e\u5b57import);\n    \u5f53\u8f93\u5165 "\u9700\u6c42" \u65f6, \u6309\u7167\u8981\u6c42\u5728 #2 \u4e2d\u5b8c\u6210\u3002\n\n\u6b64\u6b21\u63cf\u8ff0\u53ea\u56de\u7b54\u662f\u5426\u660e\u767d'},children:"\u63d0\u793a\u8bcd"})]}),{Title:k}=i.default,Z=e=>{let t=e instanceof p.j5?e.get():e;return r.isValidElement(t)||t instanceof Function||(t=void 0),t},P=(()=>{const e={key:"console|index",label:"\u63a7\u5236\u53f0",closable:!1,children:null},t={};return(n,r,i,s)=>{const o=(void 0===t[a=n]&&(t[a]=[{...e}]),t[a]);var a;if(!r)return o[0].children=i,o;o[0].children=s||o[0].children;let c=!0;const l={key:r.code,label:r.name||"-",children:i};for(let e=0;e<o.length;e++){if(o[e].key===l.key){o[e]=l,c=!1;break}}return c&&o.push(l),o}})(),C=e=>{let{items:t}=e;const[n,i]=r.useState((()=>[...t])),[o,a]=r.useState();((e,t)=>{if(e.length!==t.length)return!0;for(let n=0;n<e.length;n++){const r=e[n],i=t[n];if(r.key!==i.key)return!0;if(r.label!==i.label)return!0;if(r.children!==i.children)return!0}return!1})(n,t)&&(i([...t]),a(t[t.length-1].key));return(0,f.jsx)(s.Z,{type:"editable-card",animated:!0,hideAdd:!0,size:"small",tabBarGutter:0,activeKey:o,items:n,onChange:a,onEdit:e=>{for(let n=0;n<t.length;n++){if(t[n].key===e){t.splice(n,1);break}}i([])}})};class T extends r.Component{constructor(e){super(e),this.state={didCatch:!1},this.printed=!1}static getDerivedStateFromError(e){return{didCatch:!0,error:e}}getErrorMsg(){return this.state.error?this.state.error.message:""}componentDidCatch(e,t){console.debug("[".concat(this.props.nodeName||"-","]: \u9519\u8bef\u8be6\u60c5\n"),e)}render(){return this.state.didCatch?(0,f.jsx)(o.ZP,{status:"error",title:"\u5f88\u62b1\u6b49, \u811a\u672c\u6267\u884c\u4e2d\u53d1\u751f\u4e86\u5f02\u5e38",subTitle:(0,f.jsx)(a.Z,{title:this.getErrorMsg(),placement:"bottomLeft",trigger:"hover",children:(0,f.jsx)(c.ZP,{children:"\u8be6\u60c5"})})}):this.props.children}}const F=e=>{let{state:t,context:n,manageBlock:i,getCurrentNode:s}=e;const{outputData:o,errorMsg:a}=t;let c=s();const u=x.Z.isBlank(a)?Z(o):[];let p=x.Z.isBlank(a)&&!u?"":a,g=null;var m;x.Z.isBlank(p)?u?g=(0,f.jsx)(T,{nodeName:null===(m=c)||void 0===m?void 0:m.name,children:u instanceof Function?r.createElement(u):u}):(g=o?(0,f.jsxs)(f.Fragment,{children:[i,(0,f.jsx)("div",{style:{margin:"15px"},children:(0,f.jsx)(l.Z,{children:(0,f.jsx)(d.Z,{span:8,children:(0,f.jsx)(h.Z,{message:"\u65e0\u6e32\u67d3\u7ec4\u4ef6",type:"error"})})})})]}):i,c=null):(g=(0,f.jsxs)(f.Fragment,{children:[i,(0,f.jsx)("div",{style:{margin:"15px"},children:(0,f.jsx)(l.Z,{children:(0,f.jsx)(d.Z,{children:(0,f.jsx)(h.Z,{message:(0,f.jsx)("pre",{style:{marginBottom:0,minWidth:"28vw"},children:p}),type:"error"})})})})]}),c=null);return(0,f.jsx)(C,{updateItem:!!c,items:P(n.category,c,g,i)})},O=e=>{let{category:t,name:n}=e;return(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)(k,{level:3,children:n}),(0,f.jsx)(u.Z,{category:"customize-".concat(t),lang:g.bn.JSX,manage:{buttons:[],expandScriptButton:{name:"\u81ea\u5b9a\u4e49",description:"\u652f\u6301\u81ea\u5b9a\u4e49\u9875\u9762",scriptContent:"return <div>Hello, World!</div>;"},editorHelpRender:S,aiRender:w},dataUseMange:!0,dataBlockRender:F})]})}},83770:(e,t,n)=>{"use strict";n.d(t,{ep:()=>b,j5:()=>l,zn:()=>a});var r=n(66274),i=n(99359),s=n(47313),o=(0,i.Z)("next");class a{constructor(e){let{code:t,name:n,script:r,version:i}=e;Object.defineProperty(this,o,{writable:!0,value:null}),this.code=t,this.name=n,this.script=r,this.version=i||0}hasNext(){return!!(0,r.Z)(this,o)[o]}add(e,t,n,i){if(!n)throw Error("\u6dfb\u52a0\u5f02\u5e38, \u65e0\u53ef\u6267\u884c\u811a\u672c");return(0,r.Z)(this,o)[o]=new a({code:e,name:t,script:n,version:i}),(0,r.Z)(this,o)[o]}next(){return(0,r.Z)(this,o)[o]}}var c=(0,i.Z)("origin");class l{constructor(e){Object.defineProperty(this,c,{writable:!0,value:void 0}),(0,r.Z)(this,c)[c]=e}get(){return(0,r.Z)(this,c)[c]}}class d extends Error{}var h=(0,i.Z)("category"),u=(0,i.Z)("share"),p=(0,i.Z)("previous"),g=(0,i.Z)("stage"),x=(0,i.Z)("plugins");class m{constructor(e,t,n,i){Object.defineProperty(this,h,{writable:!0,value:"-"}),Object.defineProperty(this,u,{writable:!0,value:void 0}),Object.defineProperty(this,p,{writable:!0,value:null}),Object.defineProperty(this,g,{writable:!0,value:null}),Object.defineProperty(this,x,{writable:!0,value:{}}),(0,r.Z)(this,h)[h]=e,this.getCode=()=>t.code,this.getName=()=>t.name,(0,r.Z)(this,g)[g]=n,(0,r.Z)(this,p)[p]=i,this.originInputData=null}getOriginInputData(){return this.originInputData}getStageCode(){var e;return null===(e=(0,r.Z)(this,g)[g])||void 0===e?void 0:e.code}getStageName(){var e;return null===(e=(0,r.Z)(this,g)[g])||void 0===e?void 0:e.name}firstStage(){var e;return!((null===(e=(0,r.Z)(this,g)[g])||void 0===e?void 0:e.position)>0)}hasNext(){return!!(0,r.Z)(this,g)[g].nextFlag}useShare(e){return void 0!==(0,r.Z)(this,u)[u]&&null!==(0,r.Z)(this,u)[u]||((0,r.Z)(this,u)[u]=e instanceof Function?e():e),[(0,r.Z)(this,u)[u],e=>(0,r.Z)(this,u)[u]=e]}getPreviousStageOutput(){return(0,r.Z)(this,p)[p].output}addPlugin(e,t){return(0,r.Z)(this,x)[x][e]=t}getPlugin(e){return(0,r.Z)(this,x)[x][e]}}const f=(e,t)=>{const n={output:void 0},r={code:t.code,name:t.name,nextFlag:t.hasNext(),position:-1},i=new m(e,t,r,n);return{get:()=>i,setInputData:e=>i.originInputData=e,nextStage:(e,t,i)=>{e&&(((e,t)=>{r.code=e.code,r.name=e.name,r.nextFlag=e.hasNext(),r.position=t})(e,t),n.output=i)}}};class v{constructor(e,t){this.invocation=null,this.source=e,this.paramNames=t||[]}compile(){const e=Function;this.invocation=new e(...this.paramNames,this.source)}execute(e,t){if(!this.invocation)throw new d("\u672a\u7f16\u8bd1\u7684\u65b9\u6cd5, \u65e0\u6cd5\u6267\u884c");return this.invocation.call(e,...t)}}const j=(()=>{const e={},t=(e,t,n)=>{let r=e[t];return void 0===r&&void 0!==n&&(r=e[t]=n),r};return{get:(n,r,i)=>{const s=t(e,n,{});return t(s,r,i)},set:(n,r,i)=>t(e,n,{})[r]=i,remove:(n,r)=>{const i=t(e,n,void 0);if(void 0!==i&&void 0!==i[r])try{delete i[r]}catch(s){i[r]=void 0}}}})();class y{constructor(e,t,n,r,i){this.category=e,this.code=t,this.sourceCode=n,this.version=r||0,this.transform=i}_compileInvocation(){if(this.transform)try{const e="function f(inputData, inputObj, Util, React) {",t="}",n=this.transform(e+this.sourceCode+t);this.sourceCode=n.substring(e.length,n.length-t.length)}catch(t){throw new d("\u7f16\u8bd1\u5931\u8d25: "+t.message)}const e=new v(this.sourceCode,["inputData","inputObj","Util","React"]);return e.compile(),e}_compileAndGetInvocation(){let e=j.get(this.category,this.code);return e&&e.v===this.version||(j[this.code]=e={},e.v=this.version),e.i?e.i:e.i=this._compileInvocation()}run(e,t,n,r){const i=n?n(t):void 0;return this._compileAndGetInvocation().execute(e,[t,i,r,this.transform?s:void 0])}}class b{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};this.options=r,this.handler=n,this.root=t,this.category=e,this.context=f(e,this.root)}nexState(e,t,n){this.context.nextStage(e,t,n)}submit(e){return(async()=>{try{this.context.setInputData(e);const{before:t,after:n,convertMedian:r,transform:i,getUtil:s}=this.handler,o=s&&s()||{};o.getContext=()=>this.context.get();const{handleInputObj:a}=t(this.root,e)||{};let c,d=this.root.script?this.root:this.root.next(),h=e,u=0;for(;d;){this.nexState(d,u,c);c=new y(this.category,d.code,d.script,d.version,i).run(this.context.get(),h,a,o),c instanceof Function&&(c=c.apply(this.context.get())),c instanceof Promise&&(c=await c),h=r(d,c),d=d.next(),u++}return this.options.enableJsx&&(c=new l(c)),n(this.root,c)}catch(o){var t,n,r,i,s;console.debug("".concat((null===(t=this.context)||void 0===t||null===(n=t.stage)||void 0===n?void 0:n.name)||(null===(r=this.root)||void 0===r?void 0:r.name)," \u6267\u884c\u5f02\u5e38"),o);const e=this.root.hasNext()?null===(i=this.context)||void 0===i||null===(s=i.stage)||void 0===s?void 0:s.name:null;let a=(o instanceof Object?o.message:o)||"";throw null===e||void 0===e?a:"".concat(e,": ").concat(a)}})()}}},87518:(e,t,n)=>{"use strict";n.d(t,{Je:()=>s,Jg:()=>i,bn:()=>r});const r={JSON:"json",TXT:"txt",JSX:"jsx"},i={NODE:"node",ARRANGE:"arrange"},s={PLATFORM:"P|",EXPAND_ADD:"EA|"}},80122:(e,t,n)=>{"use strict";n.d(t,{Z:()=>u,v:()=>d});var r=n(47313),i=n(87518),s=n(83770),o=n(46417);const a=r.lazy((()=>Promise.all([n.e(374),n.e(272),n.e(393),n.e(984),n.e(36),n.e(671),n.e(733),n.e(830),n.e(735),n.e(718),n.e(37),n.e(351)]).then(n.bind(n,38991)))),c=r.lazy((()=>Promise.all([n.e(374),n.e(984),n.e(662),n.e(435)]).then(n.bind(n,6945))));class l{constructor(e){const t=null!==e&&void 0!==e&&e.indexOf?e.indexOf("?"):-1,n=new URLSearchParams(t<0?void 0:e.substring(t+1));this.clickType=n.get("clickType"),this.clickCode=n.get("clickCode"),this.importUrl=n.get("importUrl"),this.importUrl&&(this.importUrl=window.decodeURIComponent(this.importUrl)),this.shareData=n.get("shareData")}getImportUrl(){return this.importUrl}canClick(e,t){return this.clickCode===t&&(!this.clickType&&i.Jg.NODE===e||this.clickType===e)}getShareData(){return this.shareData}clearImport(){return this.importUrl=void 0,!0}clearClick(){this.clickCode=void 0,this.clickType=void 0}clearShareData(){this.shareData=void 0}}class d{constructor(){this.convertHandler=null}setConvertHandler(e){this.convertHandler=e}createScriptEvent(e,t,n,r){return new s.zn({code:e,name:t,script:n,version:r})}getNode(){return this.node}onConvert(e){if(this.convertHandler)return this.node=e,this.convertHandler(e);this.node=void 0,console.warn("No convert handler")}}const h={};h[i.bn.JSON]=e=>e instanceof Object?e:JSON.parse(e);const u=e=>{let{lang:t="txt",category:n,manage:i,dataUseMange:s,handleInputObj:u,dataBlockRender:p}=e;const g=r.useMemo((()=>new d),[]),x={...i,lang:t,category:n||t,intelligent:new l(window.location.href),context:g},m={lang:t,category:n||t,context:g,dataBlockRender:p,handleInputObj:u||h[t]},f=(0,o.jsx)(a,{...x});return m.manageBlock=s?f:null,(0,o.jsxs)(r.Suspense,{fallback:(0,o.jsx)(o.Fragment,{}),children:[s?null:f,(0,o.jsx)(c,{...m})]})}},93160:(e,t,n)=>{"use strict";n.d(t,{Ls:()=>h,MS:()=>d,V2:()=>p,ay:()=>u});var r=n(73365),i=n(64162),s=n.n(i);const o=101,a="d",c="c",l="ss";function d(e){return s().compressToEncodedURIComponent(JSON.stringify(e))}function h(e){e=s().decompressFromEncodedURIComponent(e);try{e=JSON.parse(e)}catch(t){throw new Error("\u6570\u636e\u683c\u5f0f\u5f02\u5e38")}return e}function u(e,t){const n=t.secretKey?r.Wj:void 0,i=r.UE.convertBackupData(JSON.stringify(e),o,n,t.secretKey),s={};n&&(s[l]=n);let d={};return d[a]=i,Object.keys(s).length>0&&(d[c]=s),JSON.stringify(d)}function p(e,t){const n=JSON.parse(e);let i=n[a];if("string"!==typeof i)throw new Error("\u6570\u636e\u683c\u5f0f\u5f02\u5e38");let s=n[c];if(s){if("object"!==typeof s)throw new Error("\u6570\u636e\u683c\u5f0f\u5f02\u5e38");s.secretKey=t}try{let e=JSON.parse(i);i=e[a],s=e[c]}catch(o){}return s||(s={}),JSON.parse(r.UE.convertOriginData(i,s[l],s.secretKey||t))}},73365:(e,t,n)=>{"use strict";n.d(t,{UE:()=>c,Wj:()=>o,fp:()=>h});var r=n(52984),i=n.n(r),s=n(87518);const o=1,a=(()=>{const e={encrypt:e=>e,decrypt:e=>e},t={};var n;return n={encrypt:(e,t)=>i().AES.encrypt(e,t).toString(),decrypt:(e,t)=>i().AES.decrypt(e,t).toString(i().enc.Utf8)},t[o]=n,n=>t[n]||e})();const c=new class{constructor(){this.featurePrefix="devinx3",this.verionPrefix="ver",this.fixVersion="000",this.fixSecret="ver000"}encrypt(e,t){return i().AES.encrypt(e,t).toString()}decrypt(e,t){return i().AES.decrypt(e,t).toString(i().enc.Utf8)}convertSecret(e){return e>=100&&e<=999?this.verionPrefix+e:this.fixSecret}getFeatureSuffix(e){return e===this.fixSecret?"S":"l"}getFeatureSecretIndex(e){if(e<100)return-1;const t=e-10-10,n=[],r=[17,27,23,3,19,11];for(let i=0;i<6;i++)n.push(10+(t*r[i]/30^0));return n}addSecret(e,t,n){return e.slice(0,t)+n+e.slice(t)}removeSecret(e,t){return e.slice(0,t)+e.slice(t+1)}convertBackupData(e,t,n,r){const i=a(n).encrypt(e,r);let s=this.convertSecret(t),o=this.encrypt(i,s);o.length<100&&(s=this.fixSecret,o=this.encrypt(i,s));const c=this.featurePrefix,l=o.length,d=this.getFeatureSuffix(s);if(s===this.fixSecret)return c+l+d+o;const h=this.getFeatureSecretIndex(l);let u=o;for(let a=h.length-1;a>=0;a--)u=this.addSecret(u,h[a],s[a]);return c+l+d+u}convertOriginData(e,t,n){if(!e)throw new Error("\u6570\u636e\u4e0d\u80fd\u4e3a\u7a7a");const r=e.slice(0,this.featurePrefix.length);if(r!==this.featurePrefix)throw new Error("\u5339\u914d\u7279\u5f81\u524d\u7f00\u5f02\u5e38");const i=r.length+10;let s="l",o=e.indexOf(s);if((o<0||o>=i)&&(s="S",o=e.indexOf(s),o<0||o>=i))throw new Error("\u5339\u914d\u7279\u5f81\u540e\u7f00\u5f02\u5e38");let c=Number(e.slice(r.length,o));if(!c)throw new Error("\u5339\u914d\u6570\u636e\u957f\u5ea6\u5f02\u5e38");const l=this.getFeatureSecretIndex(c),d=e.slice(o+1);let h="";if(-1===l)h=this.encrypt(e,d);else{let e=d,t="";for(let n=0;n<l.length;n++)t+=e[l[n]],e=this.removeSecret(e,l[n]);h=this.decrypt(e,t)}try{return a(t).decrypt(h,n)}catch(u){throw console.error(u),new Error("\u5bc6\u94a5\u9519\u8bef")}}},l=e=>i().MD5(e||"0").toString(i().enc.Hex),d=e=>(null===e||void 0===e?void 0:e.startsWith)&&e.startsWith(s.Je.PLATFORM),h={generateCode:l,generateVersion:()=>parseInt(Math.floor(((new Date).getTime()-17040384e5)/1e3),10).toString(16),canUpdate:(e,t)=>{if(!e)return!0;if(!t)return!1;const n=parseInt(e,16);return parseInt(t,16)>n},convertBasicButtons:e=>{const t=[];return e&&e.forEach(((e,n)=>{const r={...e};var i;r.code=(i=e.code||n,s.Je.PLATFORM+l(i)),t.push(r)})),t},isBasic:e=>null!==e&&void 0!==e&&e.code?d(e.code):d(e)}},23988:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});const r={underlineToHump:e=>e.replace(/_(\w)/g,(function(e,t){return t.toUpperCase()})),humpToUnderline:e=>e.replace(/([A-Z])/g,"_$1").toLowerCase(),isStr:e=>"string"===typeof e,isBlank:e=>void 0===e||null===e||""===e,copyToClipboard:e=>{const t=document.createElement("textarea");t.value=e,document.body.appendChild(t),t.select();const n=document.execCommand("copy");return t.remove(),n}}},42480:()=>{}}]);