"use strict";(self.webpackChunktoolkit=self.webpackChunktoolkit||[]).push([[656],{57656:(e,t,n)=>{n.r(t),n.d(t,{default:()=>Z});var r=n(47313),o=n(21104),i=n(68197),s=n(59624),l=n(93709),a=n(46155),c=n(80122),d=n(83770),u=n(87518),h=n(23988),p=n(61677),x=n(59491),m=n(46417);const g=(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)(o.default.Title,{level:3,children:"\u5e2e\u52a9\u6587\u6863"}),(0,m.jsx)(o.default.Title,{level:4,children:"\u4f7f\u7528\u4ecb\u7ecd"}),(0,m.jsx)(o.default.Paragraph,{children:"\u65b9\u6cd5\u7684\u5165\u53c2\u4e3a: Util, React"}),(0,m.jsx)(o.default.Paragraph,{children:"\u65b9\u6cd5\u7684\u8fd4\u56de\u503c: \u652f\u6301 async \u7684\u65b9\u6cd5; Promise \u5bf9\u8c61, resolve\u65b9\u6cd5\u7684\u53c2\u6570\u5373\u4e3a\u8fd4\u56de\u503c, reject\u65b9\u6cd5\u7684\u53c2\u6570\u5373\u4e3a\u62a5\u9519\u63d0\u793a"}),(0,m.jsxs)(o.default.Paragraph,{children:[(0,m.jsx)(o.default.Text,{code:!0,copyable:!0,children:"Util"}),": \u5185\u7f6e\u7684\u5de5\u5177\u7c7b"]}),(0,m.jsxs)(o.default.Paragraph,{children:["\u4f7f\u7528\u8005\u4ec5\u4ec5\u9700\u8981\u5b9e\u73b0",(0,m.jsx)("b",{children:"\u65b9\u6cd5\u4f53"})]}),(0,m.jsx)(o.default.Title,{level:5,children:"\u8f6c\u6362\u65b9\u6cd5\u6837\u4f8b"}),(0,m.jsx)("div",{style:{whiteSpace:"pre-wrap"},children:(0,m.jsx)(o.default.Paragraph,{code:!0,copyable:{text:"return inputObj;"},children:"function anonymous(Util, React) {\n    // \u5904\u7406\u903b\u8f91\n    return <div>Hello, World!<div>;\n}"})}),(0,m.jsx)("br",{})]}),v=(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)(o.default.Title,{level:3,children:"\u5e38\u7528\u5de5\u5177"}),(0,m.jsx)("div",{style:{whiteSpace:"pre-wrap"},children:(0,m.jsx)(o.default.Paragraph,{code:!0,copyable:!0,children:"const { _, dayjs, cryptoJS, XLSX, message, importPlugin } = Util"})}),(0,m.jsxs)(o.default.Paragraph,{children:[(0,m.jsx)(o.default.Title,{level:5,children:"\u5de5\u5177\u5e93"}),(0,m.jsx)(o.default.Text,{code:!0,copyable:!0,children:"const { _ } = Util"}),(0,m.jsx)(o.default.Link,{style:{marginLeft:"5px"},href:"https://www.lodashjs.com/",target:"_blank",children:"loadsh \u5b98\u7f51"})]}),(0,m.jsxs)(o.default.Paragraph,{children:[(0,m.jsx)(o.default.Title,{level:5,children:"\u65e5\u671f\u5de5\u5177"}),(0,m.jsx)(o.default.Text,{code:!0,copyable:!0,children:"const { dayjs } = Util"}),(0,m.jsx)(o.default.Link,{style:{marginLeft:"5px"},href:"https://dayjs.gitee.io/zh-CN/",target:"_blank",children:"Day.js \u5b98\u7f51"})]}),(0,m.jsxs)(o.default.Paragraph,{children:[(0,m.jsx)(o.default.Title,{level:5,children:"\u52a0\u5bc6\u5de5\u5177"}),(0,m.jsx)(o.default.Text,{code:!0,copyable:!0,children:"const { cryptoJS } = Util"}),(0,m.jsx)(o.default.Link,{style:{marginLeft:"5px"},href:"https://github.com/brix/crypto-js",target:"_blank",children:"crypto-js"})]}),(0,m.jsxs)(o.default.Paragraph,{children:[(0,m.jsx)(o.default.Title,{level:5,children:"\u6587\u4ef6\u5de5\u5177"}),(0,m.jsx)(o.default.Text,{code:!0,copyable:!0,children:"const { XLSX } = Util"}),(0,m.jsx)(o.default.Link,{style:{marginLeft:"5px"},href:"https://github.com/rockboom/SheetJS-docs-zh-CN/",target:"_blank",children:"SheetJS \u6587\u6863"})]}),(0,m.jsxs)(o.default.Paragraph,{children:[(0,m.jsx)(o.default.Title,{level:5,children:"\u6d88\u606f\u5de5\u5177"}),(0,m.jsx)(o.default.Text,{code:!0,copyable:!0,children:"const { message } = Util"}),(0,m.jsx)(o.default.Text,{children:"\u6d88\u606f\u63d0\u793a\u65b9\u6cd5\uff0c\u4f7f\u7528\u65b9\u5f0f\u548c\u53c2\u6570\u5982\u4e0b:"}),(0,m.jsx)("br",{}),(0,m.jsx)(o.default.Text,{children:"(content: \u6d88\u606f\u5185\u5bb9, duration: \u81ea\u52a8\u5173\u95ed\u7684\u5ef6\u65f6, \u5355\u4f4d\u79d2, \u8bbe\u4e3a0\u65f6\u4e0d\u81ea\u52a8\u5173\u95ed)"}),(0,m.jsx)("br",{}),(0,m.jsx)(o.default.Text,{code:!0,children:"message.success(content, [duration])"}),(0,m.jsx)("br",{}),(0,m.jsx)(o.default.Text,{code:!0,children:"message.error(content, [duration])"}),(0,m.jsx)("br",{}),(0,m.jsx)(o.default.Text,{code:!0,children:"message.info(content, [duration])"}),(0,m.jsx)("br",{}),(0,m.jsx)(o.default.Text,{code:!0,children:"message.warning(content, [duration])"}),(0,m.jsx)("br",{}),(0,m.jsx)(o.default.Text,{code:!0,children:"message.loading(content, [duration])"})]}),(0,m.jsxs)(o.default.Paragraph,{children:[(0,m.jsx)(o.default.Title,{level:5,children:"\u5bfc\u5165\u63d2\u4ef6(\u5f02\u6b65)"}),(0,m.jsx)(o.default.Text,{code:!0,copyable:!0,children:"const { importPlugin } = Util"}),(0,m.jsx)(o.default.Text,{code:!0,copyable:!0,children:'const { Button } = await importPlugin("antd")'})]})]}),f=e=>{let{title:t,codeDemo:n}=e;const r=(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)(o.default.Title,{level:3,children:t}),(0,m.jsx)("div",{style:{whiteSpace:"pre-wrap"},children:(0,m.jsx)(o.default.Paragraph,{code:!0,copyable:!0,children:n})})]});return(0,m.jsx)(p.Z,{placement:"rightTop",content:r,title:null,trigger:"click",children:(0,m.jsx)(x.Z,{type:"link",children:t})})},j=()=>(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)(p.Z,{placement:"rightTop",content:g,title:null,trigger:"click",children:(0,m.jsx)(x.Z,{type:"link",children:"\u5e2e\u52a9\u6587\u6863"})}),(0,m.jsx)(p.Z,{placement:"rightTop",content:v,title:null,trigger:"click",children:(0,m.jsx)(x.Z,{type:"link",children:"\u5e38\u7528\u5de5\u5177"})}),(0,m.jsx)(f,{title:"Form \u6848\u4f8b\u6587\u6863",codeDemo:'// \u811a\u672c\u6267\u884c\u533a\nconst { importPlugin } = Util;\nreturn async () => {\n    // \u811a\u672c\u6267\u884c\u533a(\u5f02\u6b65\u5bfc\u5165\u63d2\u4ef6)\n    const { Row, Col, Form, Input, Space, Button } = await importPlugin("antd");\n    // \u5b9a\u4e49\u6e32\u67d3\u7ec4\u4ef6\n    const App = () => {\n        const [content, setContent] = React.useState(\'\');\n        const [form] = Form.useForm();\n        const onFinish = () => {\n            const obj = form.getFieldsValue();\n            setContent(JSON.stringify(obj, null, 2))\n        }\n        return <Row>\n            <Col span={5}>\n                <Form form={form} onFinish={onFinish}>\n                    <Form.Item>\n                        <Space>\n                            <Button type="primary" htmlType="submit">\u8f6c\u6362</Button>\n\n                            <Button htmlType="button" onClick={() => form.resetFields()}>\u91cd\u7f6e</Button>\n                        </Space>\n                    </Form.Item>\n                    <Form.Item label="\u540d\u79f0" name="name"><Input /></Form.Item>\n                </Form>\n            </Col>\n            <Col span={1} />\n            <Col span={10}>\n                <Input.TextArea value={content} rows={16} />\n            </Col>\n        </Row>\n    }\n    // \u8fd4\u56de\u6e32\u67d3\u7ec4\u4ef6\n    return App\n}'})]}),{Title:y}=o.default,b=e=>{let{state:t}=e;const{outputData:n,errorMsg:o}=t,a=h.Z.isBlank(o)?(e=>{let t=e instanceof d.j5?e.get():e;return r.isValidElement(t)||t instanceof Function||(t=void 0),t})(n):[];let c=h.Z.isBlank(o)&&!a?"":o;return n&&!h.Z.isBlank(c)&&(c="\u65e0\u6e32\u67d3\u7ec4\u4ef6"),(0,m.jsx)("div",{style:{margin:"15px"},children:h.Z.isBlank(c)?a instanceof Function?(0,m.jsx)(a,{}):a||null:(0,m.jsx)(i.Z,{children:(0,m.jsx)(s.Z,{span:8,children:(0,m.jsx)(l.Z,{message:c,type:"error"})})})})},Z=e=>{let{category:t,name:n}=e;return(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)(y,{level:3,children:n}),(0,m.jsx)(a.Z,{}),(0,m.jsx)(c.Z,{category:"customize-".concat(t),lang:u.bn.JSX,manage:{buttons:[],expandScriptButton:{name:"\u81ea\u5b9a\u4e49",description:"\u652f\u6301\u81ea\u5b9a\u4e49\u9875\u9762",scriptContent:"return <div>Hello, World!</div>;"},editorHelpRender:j},dataBlockRender:b})]})}},83770:(e,t,n)=>{n.d(t,{ep:()=>b,j5:()=>c,zn:()=>l});var r=n(66274),o=n(99359),i=n(47313),s=(0,o.Z)("next");class l{constructor(e){let{code:t,name:n,script:r,version:o}=e;Object.defineProperty(this,s,{writable:!0,value:null}),this.code=t,this.name=n,this.script=r,this.version=o||0}hasNext(){return!!(0,r.Z)(this,s)[s]}add(e,t,n,o){if(!n)throw Error("\u6dfb\u52a0\u5f02\u5e38, \u65e0\u53ef\u6267\u884c\u811a\u672c");return(0,r.Z)(this,s)[s]=new l({code:e,name:t,script:n,version:o}),(0,r.Z)(this,s)[s]}next(){return(0,r.Z)(this,s)[s]}}var a=(0,o.Z)("origin");class c{constructor(e){Object.defineProperty(this,a,{writable:!0,value:void 0}),(0,r.Z)(this,a)[a]=e}get(){return(0,r.Z)(this,a)[a]}}class d extends Error{}var u=(0,o.Z)("category"),h=(0,o.Z)("share"),p=(0,o.Z)("previous"),x=(0,o.Z)("stage"),m=(0,o.Z)("plugins");class g{constructor(e,t,n,o){Object.defineProperty(this,u,{writable:!0,value:"-"}),Object.defineProperty(this,h,{writable:!0,value:void 0}),Object.defineProperty(this,p,{writable:!0,value:null}),Object.defineProperty(this,x,{writable:!0,value:null}),Object.defineProperty(this,m,{writable:!0,value:{}}),(0,r.Z)(this,u)[u]=e,this.getCode=()=>t.code,this.getName=()=>t.name,(0,r.Z)(this,x)[x]=n,(0,r.Z)(this,p)[p]=o,this.originInputData=null}getOriginInputData(){return this.originInputData}getStageCode(){var e;return null===(e=(0,r.Z)(this,x)[x])||void 0===e?void 0:e.code}getStageName(){var e;return null===(e=(0,r.Z)(this,x)[x])||void 0===e?void 0:e.name}firstStage(){var e;return!((null===(e=(0,r.Z)(this,x)[x])||void 0===e?void 0:e.position)>0)}hasNext(){return!!(0,r.Z)(this,x)[x].nextFlag}useShare(e){return void 0!==(0,r.Z)(this,h)[h]&&null!==(0,r.Z)(this,h)[h]||((0,r.Z)(this,h)[h]=e instanceof Function?e():e),[(0,r.Z)(this,h)[h],e=>(0,r.Z)(this,h)[h]=e]}getPreviousStageOutput(){return(0,r.Z)(this,p)[p].output}addPlugin(e,t){return(0,r.Z)(this,m)[m][e]=t}getPlugin(e){return(0,r.Z)(this,m)[m][e]}}const v=(e,t)=>{const n={output:void 0},r={code:t.code,name:t.name,nextFlag:t.hasNext(),position:-1},o=new g(e,t,r,n);return{get:()=>o,setInputData:e=>o.originInputData=e,nextStage:(e,t,o)=>{e&&(((e,t)=>{r.code=e.code,r.name=e.name,r.nextFlag=e.hasNext(),r.position=t})(e,t),n.output=o)}}};class f{constructor(e,t){this.invocation=null,this.source=e,this.paramNames=t||[]}compile(){const e=Function;this.invocation=new e(...this.paramNames,this.source)}execute(e,t){if(!this.invocation)throw new d("\u672a\u7f16\u8bd1\u7684\u65b9\u6cd5, \u65e0\u6cd5\u6267\u884c");return this.invocation.call(e,...t)}}const j=(()=>{const e={},t=(e,t,n)=>{let r=e[t];return void 0===r&&void 0!==n&&(r=e[t]=n),r};return{get:(n,r,o)=>{const i=t(e,n,{});return t(i,r,o)},set:(n,r,o)=>t(e,n,{})[r]=o,remove:(n,r)=>{const o=t(e,n,void 0);if(void 0!==o&&void 0!==o[r])try{delete o[r]}catch(i){o[r]=void 0}}}})();class y{constructor(e,t,n,r,o){this.category=e,this.code=t,this.sourceCode=n,this.version=r||0,this.transform=o}_compileInvocation(){if(this.transform)try{const e="function f(inputData, inputObj, Util, React) {",t="}",n=this.transform(e+this.sourceCode+t);this.sourceCode=n.substring(e.length,n.length-t.length)}catch(t){throw new d("\u7f16\u8bd1\u5931\u8d25: "+t.message)}const e=new f(this.sourceCode,["inputData","inputObj","Util","React"]);return e.compile(),e}_compileAndGetInvocation(){let e=j.get(this.category,this.code);return e&&e.v===this.version||(j[this.code]=e={},e.v=this.version),e.i?e.i:e.i=this._compileInvocation()}run(e,t,n,r){const o=n?n(t):void 0;return this._compileAndGetInvocation().execute(e,[t,o,r,this.transform?i:void 0])}}class b{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};this.options=r,this.handler=n,this.root=t,this.category=e,this.context=v(e,this.root)}nexState(e,t,n){this.context.nextStage(e,t,n)}submit(e){return(async()=>{try{this.context.setInputData(e);const{before:t,after:n,convertMedian:r,transform:o,getUtil:i}=this.handler,s=i&&i()||{},{handleInputObj:l}=t(this.root,e)||{};let a,d=this.root.script?this.root:this.root.next(),u=e,h=0;for(;d;){this.nexState(d,h,a);a=new y(this.category,d.code,d.script,d.version,o).run(this.context.get(),u,l,s),a instanceof Function&&(a=a.apply(this.context.get())),a instanceof Promise&&(a=await a),u=r(d,a),d=d.next(),h++}return this.options.enableJsx&&(a=new c(a)),n(this.root,a)}catch(s){var t,n,r,o,i;console.debug("".concat((null===(t=this.context)||void 0===t||null===(n=t.stage)||void 0===n?void 0:n.name)||(null===(r=this.root)||void 0===r?void 0:r.name)," \u6267\u884c\u5f02\u5e38"),s);const e=this.root.hasNext()?null===(o=this.context)||void 0===o||null===(i=o.stage)||void 0===i?void 0:i.name:null;let l=(s instanceof Object?s.message:s)||"";throw null===e||void 0===e?l:"".concat(e,": ").concat(l)}})()}}},87518:(e,t,n)=>{n.d(t,{Je:()=>o,bn:()=>r});const r={JSON:"json",TXT:"txt",JSX:"jsx"},o={PLATFORM:"P|",EXPAND_ADD:"EA|"}},80122:(e,t,n)=>{n.d(t,{Z:()=>u});var r=n(47313),o=n(87518),i=n(83770),s=n(46417);const l=r.lazy((()=>Promise.all([n.e(852),n.e(954),n.e(321),n.e(984),n.e(420),n.e(836),n.e(400)]).then(n.bind(n,59659)))),a=r.lazy((()=>Promise.all([n.e(852),n.e(984),n.e(662),n.e(435)]).then(n.bind(n,6945))));class c{constructor(){this.convertHandler=null}setConvertHandler(e){this.convertHandler=e}createScriptEvent(e,t,n,r){return new i.zn({code:e,name:t,script:n,version:r})}onConvert(e){if(this.convertHandler)return this.convertHandler(e);console.warn("No convert handler")}}const d={};d[o.bn.JSON]=e=>e instanceof Object?e:JSON.parse(e);const u=e=>{let{lang:t="txt",category:n,manage:o,handleInputObj:i,dataBlockRender:u}=e;const h=r.useMemo((()=>new c),[]),p={...o,lang:t,category:n||t,context:h},x={lang:t,category:n||t,context:h,dataBlockRender:u,handleInputObj:i||d[t]};return(0,s.jsxs)(r.Suspense,{fallback:(0,s.jsx)(s.Fragment,{}),children:[(0,s.jsx)(l,{...p}),(0,s.jsx)(a,{...x})]})}},23988:(e,t,n)=>{n.d(t,{Z:()=>r});const r={underlineToHump:e=>e.replace(/_(\w)/g,(function(e,t){return t.toUpperCase()})),humpToUnderline:e=>e.replace(/([A-Z])/g,"_$1").toLowerCase(),isStr:e=>"string"===typeof e,isBlank:e=>void 0===e||null===e||""===e,copyToClipboard:e=>{const t=document.createElement("textarea");t.value=e,document.body.appendChild(t),t.select();const n=document.execCommand("copy");return t.remove(),n}}},23961:(e,t,n)=>{n.d(t,{Z:()=>r});var r=function(e){return e?"function"===typeof e?e():e:null}},61677:(e,t,n)=>{n.d(t,{Z:()=>u});var r=n(87462),o=n(47313),i=n(23961),s=n(53553),l=n(74714),a=n(57325),c=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n},d=function(e){var t=e.title,n=e.content,r=e.prefixCls;return o.createElement(o.Fragment,null,t&&o.createElement("div",{className:"".concat(r,"-title")},(0,i.Z)(t)),o.createElement("div",{className:"".concat(r,"-inner-content")},(0,i.Z)(n)))};const u=o.forwardRef((function(e,t){var n=e.prefixCls,i=e.title,u=e.content,h=e._overlay,p=e.placement,x=void 0===p?"top":p,m=e.trigger,g=void 0===m?"hover":m,v=e.mouseEnterDelay,f=void 0===v?.1:v,j=e.mouseLeaveDelay,y=void 0===j?.1:j,b=e.overlayStyle,Z=void 0===b?{}:b,w=c(e,["prefixCls","title","content","_overlay","placement","trigger","mouseEnterDelay","mouseLeaveDelay","overlayStyle"]),P=o.useContext(l.E_).getPrefixCls,T=P("popover",n),S=P(),C=o.useMemo((function(){return h||(i||u?o.createElement(d,{prefixCls:T,title:i,content:u}):null)}),[h,i,u,T]);return o.createElement(a.Z,(0,r.Z)({placement:x,trigger:g,mouseEnterDelay:f,mouseLeaveDelay:y,overlayStyle:Z},w,{prefixCls:T,ref:t,overlay:C,transitionName:(0,s.mL)(S,"zoom-big",w.transitionName)}))}))},66274:(e,t,n)=>{function r(e,t){if(!Object.prototype.hasOwnProperty.call(e,t))throw new TypeError("attempted to use private field on non-instance");return e}n.d(t,{Z:()=>r})},99359:(e,t,n)=>{n.d(t,{Z:()=>o});var r=0;function o(e){return"__private_"+r+++"_"+e}}}]);